<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:AutomationPlatform.UI.ViewModels"
        xmlns:pc="clr-namespace:AutomationPlatform.PluginContracts;assembly=AutomationPlatform.PluginContracts"
        x:Class="AutomationPlatform.UI.MainWindow"
        x:DataType="vm:MainViewModel"
        Title="Automation Platform"
        Width="800" Height="450">

  <StackPanel Spacing="10">
    <!-- ListBox to display plugins -->
    <ListBox ItemsSource="{Binding Plugins}" SelectedItem="{Binding SelectedPlugin}">
      <ListBox.ItemTemplate>
        <DataTemplate x:DataType="pc:IAutomationPlugin">
          <StackPanel Orientation="Horizontal" Spacing="10">
            <!-- Display the plugin's Name -->
            <TextBlock Text="{Binding Name}" />

            <!-- Button to execute the plugin -->
            <Button Content="Run" Click="OnRunPluginClick" />

            <!-- Button to configure the plugin -->
            <Button Content="Configure" Click="OnConfigurePluginClick" />
          </StackPanel>
        </DataTemplate>
      </ListBox.ItemTemplate>
    </ListBox>

    <!-- Placeholder to dynamically display the plugin's UI -->
    <ContentControl Content="{Binding PluginUI}" />

    <!-- Display total count of loaded plugins -->
    <TextBlock Text="Total Plugins Loaded: " />
    <TextBlock Text="{Binding Plugins.Count}" />
  </StackPanel>
</Window>
